<h3><%= @user.email %>'s profile page</h3>


<% @user.decks_played.distinct.each do |deck| %>
  <h4><%= deck.theme %></h4>
  <table>
    <tr>
      <th>Date</th>
      <th>Cards in Deck</th>
      <th>First Guess Correct</th>
      <th>Total Guesses</th>
    </tr>
    <% deck_rounds = @user.rounds.where(deck_id: deck.id) %>
    <% deck_rounds.order(:created_at).each do |round| %>
    <tr>
      <td><%= round.created_at.strftime("%m/%d/%Y") %></td>
      <td><%= deck.cards.count %></td>
      <td><%= round.cards %></td>
      <td><%= round.guessed_cards.count(card_id.one?) %></td>
    </tr>

    <% end %>

<% end %>

<%= erb :_logout_button %>
